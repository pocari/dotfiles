# vim: ft=sh

\ls -F | grep '/$' | xargs -Iarg du -sh arg   # カレントディレクトリのフォルダ単位でdu -shする dir size folder
git log master..HEAD # masterから派生した今のブランチに対してcommitしたログのみ出力する
git branch -d $(git branch --merged | grep -v master | grep -v '*') #マージ済みのローカルブランチを削除ただしmasterは除く delete branch merge
docker rmi $(docker images -f dangling=true -q) # 不要なイメージを消す image delete remove
for i in $(seq 1 10); do time zsh -i -c exit; done # zshの起動時間計る zsh bench
socat TCP-LISTEN:6000,reuseaddr,fork UNIX-CLIENT:\"$DISPLAY\" # dockerからGUIを受ける口をmac側で開く
vi -c 'call DeinCheckAndInstall()' # deinで未インストールプラグインを一括ダウンロード dein plugin install check
rm ~/.zcompdump && compinit -i # zshの補完リセット zsh reset
git log --pretty=format:"%h %an %ad %s" --date=format:"%Y-%m-%d %H:%M:%S" | grep $(date -v-1d +"%Y-%m-%d") # 昨日のcommit一覧を表示(-v-1d)の部分を変えると任意の日付 commit check
ruby -run -e httpd -- --bind-address=0.0.0.0 --port=1234 .  # カレントディレクトリをDocumentRoot,  port:1234にして簡易webサーバ起動
lsof -i -P | grep 1080 # port 1080をlistenしているprocess（があれば)表示する
screen ~/Library/Containers/com.docker.docker/Data/com.docker.driver.amd64-linux/tty # docker for macのvmに入る。 Ctr-a, dで抜けられる
sudo pfctl -F all -f /etc/pf.conf # pfctlでメモリ上に設定しているものリセットして、 /etc/pf.conf の設定内容のみにする
aws ec2 describe-instances | jq -r '.Reservations[].Instances[] | (.Tags[] | select(.Key == "Name") | .Value) + ":" + (.NetworkInterfaces[] | select(.Status == "in-use") | .Association.PublicIp) + ":" + (.NetworkInterfaces[] | select(.Status == "in-use") | .PrivateIpAddress)'  | column -t -s ":" | sort # elastic beanstalkから作成したEC2のpublic ip一覧を表示する
sudo sysctl debug.lowpri_throttle_enabled=0 # 0: 速くなる, 1: 通常 timemachineの優先度変更
ssh -L 1234:host2:5678 ssh接続先 # ローカルのポート1234をhost2のポート5678に繋ぐ
